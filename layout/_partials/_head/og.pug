if (theme && theme.open_graph)
  meta(property="og:type" content="website")

  if (title)
    meta(property="og:title" content=title)

  if (description)
    meta(property="og:description" content=description)

  if (config && config.url && path)
    meta(property="og:url" content=`${config.url}/${path.replace('index.html','')}`)

  if (theme && theme.site.full_name)
    meta(property="og:site_name" content=theme.site.full_name)

  if (page && page.thumbnail)
    if (theme && theme.site && theme.site.cldnry)
      - var ogImage = "https://res.cloudinary.com/" + theme.site.cldnry + "/image/upload/w_auto,f_auto,q_auto:eco,dpr_auto,c_scale/" + page.thumbnail
      meta(property="og:image" content=ogImage)
  else if (theme && theme.open_graph.image)
    meta(property="og:image" content=`${config.url}${theme.open_graph.image}`)

  if (theme && theme.open_graph.twitter)
    meta(name="twitter:card" content="summary")
    if (theme.open_graph.twitter.twitter_id)
      meta(name="twitter:site" content=`@${theme.open_graph.twitter.twitter_id}`)
    if (theme.open_graph.twitter.twitter_id)
      meta(name="twitter:creator" content=`@${theme.open_graph.twitter.twitter_id}`)
    if (page && page.permalink)
      meta(property="twitter:url" content=page.permalink)
    if (title)
      meta(name="twitter:title" content=title)
    if (description)
      meta(name="twitter:description" content=description)
    if (page && page.thumbnail)
      meta(property="twitter:image" content=`https:${page.thumbnail}`)
    else if (theme && theme.open_graph.image)
      meta(property="twitter:image" content=`${config.url}${theme.open_graph.image}`)

  if (theme && theme.open_graph.fb)
    if (theme.open_graph.fb.fb_id)
      meta(name="fb:app_id" content=theme.open_graph.fb.fb_id)
    if (theme.open_graph.fb.fb_admins)
      meta(name="fb:admins" content=theme.open_graph.fb.fb_admins)

  if (theme && theme.open_graph.google_plus)
    if (theme.open_graph.google_plus.google_plus_id)
      meta(rel="publisher" content=theme.open_graph.google_plus.google_plus_id)

  if (isPost())
    if (theme && theme.site && theme.site.author)
      meta(property="article:author" content=theme.site.author)
    else if (config && config.author)
      meta(property="article:author" content=config.author)
    script(type="application/ld+json").
      {
        "@context": "https://schema.org",
        "@type": "BlogPosting",
        "mainEntityOfPage": {
          "@type": "WebSite",
          "@id": "#{config.url}"
        },
        "headline": "#{page.title}",
        "image": [
          "#{page.thumbnail.indexOf('http') !== -1 ? page.thumbnail : 'https:' + page.thumbnail}"
        ],
        "datePublished": "#{page.date.format()}",
        "dateModified": "#{page.updated.format()}",
        "author": {
          "@type": "Person",
          "name": "#{config.author}"
        },
        "publisher": {
          "@type": "Organization",
          "name": "Cita",
          "logo": {
            "@type": "ImageObject",
            "url": "https://www.cita.hr/favicon/android-chrome-192x192.png"
          }
        },
        "description": "#{page.description}"
      }
  else if (isHome())
    script(type="application/ld+json").
      {
        "@context": "https://schema.org",
        "@type": "WebSite",
        "url": "#{config.url}",
        "name": "#{theme.site.short_name}",
        "about": "#{theme.site.description}",
        "author": {
          "@type": "Person",
          "name": "#{config.author}"
        }
      }
  else
    script(type="application/ld+json").
      {
        "@context": "https://schema.org",
        "@type": "BreadcrumbList",
        "itemListElement": [
          {
            "@type": "ListItem",
            "position": 1,
            "item": {
              "@id": "#{config.url}",
              "name": "Home"
            }
          },
          {
            "@type": "ListItem",
            "position": 2,
            "item": {
              "@id": "#{config.url + '/' + path.replace('index.html','')}",
              "name": "#{title.replace(" ðŸ¤˜ " + theme.site.full_name, '')}"
            }
          }
        ]
      }

  if (theme && theme.site && theme.site.language)
    - var lang = theme.site.language
  else if (config && config.language)
    - var lang = config.language
  else
    - var lang = "en"

  meta(property="og:locale" content=lang.toLowerCase().replace('-', '_'))

  link(rel="pingback", href="https://webmention.io/www.silvestar.codes/xmlrpc")
  link(rel="webmention", href="https://webmention.io/www.silvestar.codes/webmention")


