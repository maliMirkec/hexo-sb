<p>During the last week, I have been working on redesigning my site. Here is the list of all changes:</p>
<ul>
<li>refreshed design,</li>
<li>added dark mode,</li>
<li>updated Disqus configuration,</li>
<li>updated responsive images, and</li>
<li>updated headers.</li>
</ul>
<h2>Refreshed design</h2>
<blockquote>
<p>{% cldnry light-mode_zpgxn1.png  &quot;Screenshot of the redesigned site - the light mode&quot; %}</p>
</blockquote>
<p>Since I am not a designer, I have started with a couple of prototypes on Codepen:</p>
<ul>
<li><a href="https://codepen.io/CiTA/pen/LYVbmKd">Article Card</a>, and</li>
<li><a href="https://codepen.io/CiTA/pen/gOpLzMz">Profile Card</a>.</li>
</ul>
<blockquote>
<p>{codepen CiTA LYVbmKd dark result 450 %}</p>
</blockquote>
<blockquote>
<p>{codepen CiTA gOpLzMz dark result 450 %}</p>
</blockquote>
<p>Then I have asked a question about which design is better on Twitter, and most people choose the centred version. I liked that one more, too.</p>
<blockquote class="twitter-tweet"><p lang="en" dir="ltr">Which is better: version 1 or version 2? <a href="https://t.co/7s6qTGSuf2">pic.twitter.com/7s6qTGSuf2</a></p>&mdash; ѕιlveѕтαr вιѕтrovιć (@malimirkeccita) <a href="https://twitter.com/malimirkeccita/status/1231233665667149824?ref_src=twsrc%5Etfw">February 22, 2020</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
<p>Finally, I have updated HTML and CSS code. I have removed hard-coded sections from the theme, and I used Hexo built-in features.</p>
<h2>Added dark mode</h2>
<blockquote>
<p>{% cldnry dark-mode_lo1vph.png  &quot;Screenshot of the redesigned site - the dark mode&quot; %}</p>
</blockquote>
<p>I wanted to add the dark mode to my site, so I introduced CSS Variables to my Scss codebase. I have four major modes:</p>
<ul>
<li><code>light-mode</code>,</li>
<li><code>dark-mode</code>,</li>
<li><code>mixed-mode</code>, and</li>
<li><code>comment-mode</code>.</li>
</ul>
<pre><code class="language-scss">@mixin light-mode {
 --color-alpha: #12e09f;
 --color-beta: #e01258;
 --color-gamma: #f5f5f5;
 --color-delta: #C2FAE8;
 --color-epsilon: #FAC2D4;
 --color-chi: #4f4f4f;
 --color-psi: #1f1f1f;
 --color-omega: #fff;
}

@mixin dark-mode {
 --color-alpha: #e01258;
 --color-beta: #12e09f;
 --color-gamma: #3e3e3e;
 --color-delta: #C20A38;
 --color-epsilon: #42AE8C;
 --color-chi: #e1e1e1;
 --color-psi: #fff;
 --color-omega: #1f1f1f;
}

@mixin mixed-mode {
 --color-alpha: #12e09f;
 --color-beta: #FAC2D4;
 --color-gamma: #4f4f4f;
 --color-delta: #e01258;
 --color-epsilon: #C2FAE8;
 --color-chi: #fff;
 --color-psi: #1f1f1f;
 --color-omega: #3e3e3e;
}

@mixin comment-mode {
 --color-gamma: #d5d5d5;
 --color-psi: #1f1f1f;
}
</code></pre>
<p>The first two are used globally. The third one, <code>mixed-mode</code>, is used for pages with forms, like <a href="/contact/">the Contact page</a>. The last one, <code>comment-mode</code>, is used to style Disqus comments.</p>
<h2>Updated Disqus configuration</h2>
<p>I published an article <a href="/articles/page-builders-might-not-be-a-good-idea/">about page builders</a> recently, and it gained many responses. I noticed strange behaviour with my Disqus comments: different comments appeared based on different URL parameters. To fix that, I had to use <a href="https://help.disqus.com/en/articles/1717129-url-mapper">URL Mapper</a> to merge all comments based on the correct URL and set the unique identifier:</p>
<pre><code class="language-js">this.page.identifier = UNIQUE_PAGE_IDENTIFIER
</code></pre>
<h2>Updated responsive images</h2>
<p>A long time ago, I bookmarked the article <a href="https://css-tricks.com/images-are-not-static-content/">“Images Are Not Static Content“</a>. The gist of the article is not to serve only static images to users, but images tailored to the needs and context of the browser and user.</p>
<p>Since I am using <a href="https://cloudinary.com/">Cloudinary service</a> as my “Dynamic Media Platform”, as they like to call it, I decided to take advantage of the platform.</p>
<blockquote>
<p>“Because images have such a high impact on website performance, images must be tailored according to the capabilities and context of the browser and user.”</p>
</blockquote>
<p>I ditched the <a href="https://github.com/maliMirkec/hexo-cloudinary">hexo-cloudinary</a> package, a Hexo tag plugin I created before, and I developed a new Hexo tag plugin: <a href="https://github.com/maliMirkec/hexo-cldnry">hexo-cldnry</a>. It uses the Cloudinary Node.js SDK, Cloudinary JavaScript library, and Clients Hints feature for creating the automated responsive images. You could learn more about it on by <a href="https://cloudinary.com/documentation/responsive_images#automating_responsive_images_with_javascript">reading the Responsive Images Guide</a>.</p>
<p>If you need help setting the Hexo plugin, feel free to <a href="/contact/">contact me</a> or <a href="https://github.com/maliMirkec/hexo-cldnry/issues/new">open a new issue on GitHub</a>.</p>
<h2>Updated headers</h2>
<p>To be able to use <a href="https://developers.google.com/web/fundamentals/performance/optimizing-content-efficiency/client-hints">Client Hints</a>, I had to enable it on Netlify:</p>
<pre><code class="language-txt">Accept-CH: Downlink,RTT,Device-Memory,Save-Data,DPR,Width
</code></pre>
<p>Enabling Client Hints helps Cloudinary make better decisions which image to deliver to the end-user. I added Feature Policy headers and now <a href="https://securityheaders.com/?q=https%3A%2F%2Fwww.silvestar.codes%2F&amp;followRedirects=on">Security Headers tool</a> shows A+ score for my site.</p>
<h2>Conclusion</h2>
<p>I am quite happy how things turned out. My site is still very performant, which is very important to me.</p>
<p>A personal site redesign is a great way to improve your skillset, but don’t do it too often and without the plan. Here are some of the items from my todo list for the next iteration:</p>
<ul>
<li>add Code Line Daily widget on the homepage,</li>
<li>consider adding a twitter feed, and</li>
<li>consider investing time in print css.</li>
</ul>
