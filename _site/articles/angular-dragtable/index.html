



  

  


<!DOCTYPE html>
<html lang="en">
  <head>
    <head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<link rel="canonical" href="/articles/angular-dragtable/">


  

  

  <meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<meta name="apple-mobile-web-app-title" content="Silvestar Bistrović">
<meta name="application-name" content="Silvestar Bistrović">
<link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-touch-icon.png?v=starbist">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png?v=starbist">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png?v=starbist">
<link rel="manifest" href="/favicon/site.webmanifest?v=starbist">
<link rel="mask-icon" href="/favicon/safari-pinned-tab.svg?v=starbist" color="#12e09f">
<link rel="shortcut icon" href="/favicon/favicon.ico?v=starbist">
<meta name="apple-mobile-web-app-title" content="SB site - Silvestar Bistrović website">
<meta name="application-name" content="SB site - Silvestar Bistrović website">
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="msapplication-TileImage" content="/favicon/mstile-144x144.png?v=starbist">
<meta name="msapplication-config" content="/favicon/browserconfig.xml?v=starbist">
<meta name="theme-color" content="#12e09f">

  

  
  <link rel="alternate" type="application/rss+xml" title="RSS Feed for silvestar.codes" href="/rss2.xml">
</head>

  </head>
  <body>
    
  <header>
    <nav>
      <ul class="list-style-none">
        
          <li>
            <a class="db margin-right" href="/">
              <img src="/gfx/svg/logo-2021.svg" alt="Silvestar Bistrović" width="90" height="90">
            </a>
          </li>
        
        
          
            <li>
              <ul>
                <li class="fz-step-1">
                  <a href="/portfolio/">Portfolio</a>
                </li>
                
                  
                    <li>
                      <a href="/side-projects/">Side Projects</a>
                    </li>
                  
                    <li>
                      <a href="/testimonials/">Testimonials</a>
                    </li>
                  
                
              </ul>
            </li>
          
            <li>
              <ul>
                <li class="fz-step-1">
                  <a href="/articles/">Blog</a>
                </li>
                
                  
                    <li>
                      <a href="/publications/">Publications</a>
                    </li>
                  
                    <li>
                      <a href="https://mentor.silvestar.codes/reads#newsletter">UI Dev Newsletter</a>
                    </li>
                  
                
              </ul>
            </li>
          
            <li>
              <ul>
                <li class="fz-step-1">
                  <a href="/links/">Links</a>
                </li>
                
                  
                    <li>
                      <a href="/mentoring/">Mentoring</a>
                    </li>
                  
                    <li>
                      <a href="/uses/">Uses</a>
                    </li>
                  
                
              </ul>
            </li>
          
            <li>
              <ul>
                <li class="fz-step-1">
                  <a href="/about/">About</a>
                </li>
                
                  
                    <li>
                      <a href="/contact/">Contact</a>
                    </li>
                  
                    <li>
                      <a href="/services/">Services</a>
                    </li>
                  
                
              </ul>
            </li>
          
        
      </ul>
    </nav>
  </header>


    <main id="main">
      
        
        
          

  <section class="hero margin-top-alpha">
  <div class="wrapper text-center">
    <div class="padding">
      <div class="margin-bottom">
        <a class="button button--small button--inverse" href="/articles/">/Blog</a>
        
          
            <span class="button button--small button--inverse">angular</span>
          
        
        
          <span class="button button--small button--inverse">2017-02-03</span>
        
      </div>
      
        <h1 class="fz-step-5 no-margin-top margin-bottom">Angular dragtable</h1>
      
      
      
    </div>
  </div>
</section>

  <hr class="text-alpha hr">

<div class="wrapper margin-top-alpha margin-bottom-alpha">
  <div class="padding">
    <div class="copy copy--body"><p><strong>Angular dragtable</strong> is an Angular directive that allows table column reorder.</p>
<p>I've been searching for a similar solution, including JavaScript libraries, jQuery plugins or Angular directives. I've tested various solutions, but nothing worked as expected. So I decided to create brand new directive.</p>
<p>The package is available <a href="https://github.com/maliMirkec/angular-dragtable">here</a>.
And the demo is available <a href="https://frontend-developer.xyz/angular-dragtable/">here.</a></p>
<h2>Angular dragtable events</h2>
<p><strong>Angular dragtable</strong> uses <em>drag</em> events. <a href="https://developer.mozilla.org/en-US/docs/Web/API/DragEvent"><em>Drag</em> events</a> are around for a while and have a pretty good support. There are some <a href="http://mereskin.github.io/dnd/">issues</a>, but nothing that cannot be solved. It should be noted that the <em>drag</em> events do not work on mobile devices. Although I thought about implementing mobile support using <a href="https://developer.mozilla.org/en/docs/Web/API/Touch_events">touch events</a> or excellent <a href="http://touchpunch.furf.com/">jQuery UI Touch Punch</a> plugin, I give up at the end. This feature is not crucial on mobile devices. Even if I did provide mobile implementation, it could be really hard to use this feature.</p>
<p>The main idea of <strong>Angular dragtable</strong> directive is to reorder the table columns by dragging table header cell. We have to listen when <em>drag</em> event starts and when it ends. When dragging occurs we should display <em>ghost</em> floating table column as a current position indicator. <strong>Angular dragtable</strong> actually contains 2 directives, one for <em>draggable</em> elements and one for <em>droppable</em> elements. A full code could be found <a href="https://github.com/maliMirkec/angular-dragtable/blob/master/angular-dragtable.js">here</a>.</p>
<h2>Dragging</h2>
<p>If we want to enable <em>draggable</em> events on header cell, we should add <code>drag-me</code> directive by providing it via attribute name. There are 3 main <em>drag</em> events:</p>
<ul>
<li><code>dragstart</code> - fires when a <em>drag</em> event start;</li>
<li><code>drag</code> - fires during <em>drag</em> event;</li>
<li><code>dragend</code> - fires when a <em>drag</em> event ends.</li>
</ul>
<p>On <code>dragstart</code> event, we want to remove every <em>ghost</em> elements that are left behind and create new <em>ghost</em> elements for current column.
Actual dragging fires <code>drag</code> event on which we want to move <em>ghost</em> column when we move the mouse. It is always a great idea to set the <em>timeout</em> on events that occur every few hundred milliseconds.
And finally, we will use <code>dragend</code> event to remove <em>ghost</em> column.</p>
<h2>Dropping</h2>
<p>Dropping events allow us to reorder columns by listening when <em>ghost</em> column is over the current column. To enable <em>droppable</em> events on header cell, we should add <code>drop-me</code> directive. For this purpose, we should use <code>dragover</code> event. This event fires when <em>draggable</em> element is over <em>droppable</em> element.</p>
<p>On <code>dragover</code> event, we want to determine a direction of dragging event and append <em>ghost</em> column before or after current column. This means that we don't need to listen to <code>drop</code> event because we are responding with a live action on <code>dragover</code> event. That is desirable effect as we want to avoid unnecessary events. Again, we should set <em>timeout</em> here, just like we did on <code>drag</code> event.</p>
<h2>Usage</h2>
<p>To install <strong>Angular dragtable</strong>, clone the repository from Github or use bower installer: <code>bower install **angular-dragtable**</code>.</p>
<p>Include <strong>Angular dragtable</strong> in your project.</p>
<blockquote>
<p>{codeblock lang:js %}
(function (DemoApp) {
'use strict';</p>
</blockquote>
<p>DemoApp = angular.module('DemoApp', ['Dragtable']);</p>
<p>DemoApp.config(function () {});
}(this));</p>
<blockquote>
<p>{endcodeblock %}</p>
</blockquote>
<p>To enable reorder of table header cells, use <code>drag-me</code> and <code>drop-me</code> directives.</p>
<blockquote>
<p>{codeblock lang:html %}</p>
</blockquote>
<table>
  <thead>
    <tr>
      <th>ID</th>
      <th drag-me drop-me>Name</th>
      <th drag-me drop-me>Description</th>
      <th drag-me drop-me>Age</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>1</td>
      <td>Item 1</td>
      <td>Description 1</td>
      <td>1</td>
    </tr>
    ...
  </tbody>
</table>
> {endcodeblock %}
<p>If you want to use a custom handle for <em>drag</em> events, you should provide selector via <code>data-handle</code> attribute.</p>
<blockquote>
<p>{codeblock lang:html %}</p>
</blockquote>
<th drag-me drop-me data-handle=".my-handle">
  <span class="my-handle drag-icon"></span> Column name
</th>
> {endcodeblock %}
<p>Be sure to place handle element inside header cell.</p>
<p>To make <strong>Angular dragtable</strong> more performant, especially when using a large table, we should use <code>data-limit</code> option. When this option is provided, a number of <em>ghost</em> column elements are limited. That means less iteration during <code>drag</code> event.</p>
<blockquote>
<p>{codeblock lang:html %}</p>
</blockquote>
<th drag-me drop-me data-limit="50"><th>
> {endcodeblock %}
<h2>Conclusion</h2>
<p>In this article, I wanted to provide detailed insight of the creation process of this Angular directive.</p>
<p>I really enjoyed building it and I'm hoping you will enjoy using it.</p>
<p>Share your thoughts by commenting on this article or <a href="https://twitter.com/malimirkeccita">tweet me</a>.</p>
</div>
  </div>
</div>

  <hr class="text-alpha hr">
  <section class="banner margin-top-alpha margin-bottom-alpha">
  <div class="wrapper margin-top margin-bottom text-center">
    <div class="padding">
      <h3 class="fz-step-3 no-margin-top no-margin-bottom">About</h3>
      <p>Silvestar is a fearless web developer who is very enthusiastic about web technologies and everything related to frontend development.</p>
      <div class="margin-top margin-bottom">
        <a class="button button--small" href="/about/">About ⇢</a>
        <a class="button button--small" href="/portfolio/">Portfolio ⇢</a>
        <a class="button button--small" href="/contact/">Contact ⇢</a>
      </div>
      <hr class="text-dark hr">
      
      
      
      <h3 class="fz-step-2 no-margin-top no-margin-bottom">Share:</h3>
      <div class="margin-top margin-bottom">
        <a class="button button--small" href="https://twitter.com/intent/tweet?url=https://www.silvestar.codes/articles/angular-dragtable/&text=Angular dragtable&via=malimirkeccita" target="_blank" rel="nofollow noopener">Twitter ⇢</a>
        <a class="button button--small" href="https://facebook.com/sharer.php?u=https://www.silvestar.codes/articles/angular-dragtable/" target="_blank" rel="nofollow noopener">Facebook ⇢</a>
        <a class="button button--small" href="https://www.reddit.com/submit?url=https://www.silvestar.codes/articles/angular-dragtable/" target="_blank" rel="nofollow noopener">Reddit ⇢</a>
      </div>

      <hr class="text-dark hr">
      
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
          
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
      
      
      <h3 class="fz-step-1 no-margin-top no-margin-bottom">Read more articles:</h3>
      <div class="margin-top margin-bottom">
        <a class="button button--small" href="" title="CSS sidebar toggle">⇠ Prev post</a>
        <a class="button button--small" href=""}">Next post ⇢</a>
      </div>
    </div>
  </div>
</section>




        
        
      
    </main>
    
  <footer class="text-center">
    
      <nav>
        <ul class="list-style-none">
          
            <li class="margin-right margin-left">
              <a href="/portfolio/" class="padding-y-1">Portfolio</a>
            </li>
          
            <li class="margin-right margin-left">
              <a href="/articles/" class="padding-y-1">Blog</a>
            </li>
          
            <li class="margin-right margin-left">
              <a href="/about/" class="padding-y-1">About</a>
            </li>
          
            <li class="margin-right margin-left">
              <a href="/contact/" class="padding-y-1">Contact</a>
            </li>
          
            <li class="margin-right margin-left">
              <a href="/rss.xml" class="padding-y-1">Feed</a>
            </li>
          
        </ul>
      </nav>
    
    
      <nav>
        <ul class="list-style-none">
          
            <li class="margin-right margin-left">
              <a href="https://www.linkedin.com/in/starbist/" class="padding-y-1">LinkeIn</a>
            </li>
          
            <li class="margin-right margin-left">
              <a href="https://twitter.com/malimirkeccita" class="padding-y-1">Twitter</a>
            </li>
          
            <li class="margin-right margin-left">
              <a href="https://github.com/maliMirkec" class="padding-y-1">GitHub</a>
            </li>
          
            <li class="margin-right margin-left">
              <a href="https://codepen.io/CiTA/" class="padding-y-1">CodePen</a>
            </li>
          
        </ul>
      </nav>
    
    
      <p class="fz-step--1">&copy; Silvestar Bistrović, 2021</p>
    
    
      <p><a href="/"><img class="margin-auto" src="/gfx/svg/logo-2021.svg" alt="Silvestar Bistrović" width="50" height="50" loading="lazy"></a></p>
    
  </footer>


    <link rel="stylesheet" href="/css/style.min.css" media="print" onload="this.media='all'">

    <script src="/js/cldnry.min.js" async></script>
<script src="/js/index.min.js" async></script>

  </body>
</html>




