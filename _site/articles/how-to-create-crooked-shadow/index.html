<p>Recently I was working on a very interesting and challenging project. I was told to use CSS wherever possible. That was actually the first time I've heard someone says those words and my heart was full of joy. One of the most challenging features to build was to add a shadow on a crooked border. I know it doesn't sound either glamorous or complicated, but it kinda is.</p>
<h2>Crooked border</h2>
<p>Here's the desired design for the hero section with crooked border (notice the crooked shadow at the bottom):</p>
<blockquote>
<p>{cldnry crooked-shadow_rozyr7.jpg &quot;Crooked background example.&quot; %}</p>
</blockquote>
<p>Let's break this into smaller modules:</p>
<ul>
<li>hero block</li>
<li>hero title</li>
<li>hero icon</li>
<li>crooked border</li>
<li>inner shadow</li>
</ul>
<p>First three are easy to create, especially if using flexbox to center the content.</p>
<pre><code class="language-html">&lt;a class=&quot;hero&quot; href=&quot;//www.silvestar.codes&quot; target=&quot;_blank&quot;&gt;
  &lt;div class=&quot;hero__content&quot;&gt;
    &lt;h1 class=&quot;hero__text&quot;&gt;
      Star Bist
    &lt;/h1&gt;
    &lt;div class=&quot;hero__icon&quot;&gt;
      &lt;svg&gt;...&lt;/svg&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/a&gt;
</code></pre>
<pre><code class="language-css">.hero {
  position: relative;
  overflow: hidden;
}
.hero__content {
  display: flex;
  flex-direction: column;
  align-content: center;
  justify-content: center;
}
</code></pre>
<p>To create the crooked border, we will use CSS triangle. It's pretty old technique and it's used all over the place. To understand CSS triangles, look at this short animation made by Chris Coyier:</p>
<blockquote>
<p>{codepen chriscoyier lotjh dark result %}</p>
</blockquote>
<p>In our case, we'll use <code>:after</code> pseudo element to create a crooked solid bottom border. Here's the code:</p>
<pre><code class="language-css">.hero:after {
  content: &quot;&quot;;
  position: absolute;
  bottom: 0;
  right: 0;
  left: 0;
  border-bottom: 10em solid white;
  border-left: 100vw solid transparent;
}
</code></pre>
<p>That wasn't so hard, now let's get to the real problem.</p>
<h2>Crooked shadow</h2>
<p>To create an inset shadow, we usually use a <code>box-shadow</code> property. Every box could have a shadow, including our <code>:after</code> pseudo element. But we cannot apply <code>box-shadow</code> here because we have a box, although it looks like a triangle and shadow is not crooked.</p>
<p>To solve this problem, I've even tried to rotate another pseudo element with a shadow and place it under an existing triangle. It worked, but not at every viewport size. I wasn't happy with that solution.</p>
<p>Then it hit meâ€”I should use a crooked transparent gradient on a box that is as tall as <code>:after</code> pseudo element. Wait, what? I'll try to explain this step by step.</p>
<p>First, we should create an element that is as tall as <code>:after</code> pseudo element. We could use <code>:before</code> pseudo element for this purpose. Then we should add linear gradient at the correct angle and percentage. In our case, linear gradient should go to the top left corner until 50%. Finally, we should scale and translate element to make it visible.</p>
<pre><code class="language-css">.hero:before {
  content: &quot;&quot;;
  position: absolute;
  bottom: 0;
  right: 0;
  left: 0;
  height: 10em;
  background-image: linear-gradient(to top left, #111 45%, transparent 50%);
  transform-origin: center center;
  transform: scale(1.25) translateY(-.5em);
}
</code></pre>
<p><em>In order to make this work, don't forget to add <code>position: relative</code> and <code>overflow: hidden</code> on <code>.hero</code> element.</em></p>
<p>And here's the final solution:</p>
<blockquote>
<p>{codepen CiTA WjRJWN dark result 340 %}</p>
</blockquote>
<h2>Final thoughts</h2>
<p>I really enjoyed solving this problem and I'm quite happy with the solution. And it is a fully responsive solution, which is great.</p>
<p>If you like this article or you have a different solution, let me know in the comments or on <a href="//twitter.com/malimirkeccita">twitter</a>.</p>
<h2>Update</h2>
<p>After I posted the article on <a href="https://www.reddit.com/r/Frontend/comments/6pihl9/how_to_create_crooked_shadow/">Reddit</a>, Martijn Hermans provided alternative and perhaps even more elegant solution using <code>skew</code> and a single pseudo element:</p>
<blockquote>
<p>{codepen doxick oegrwM dark result 340 %}</p>
</blockquote>
<p>The border and the shadow look sharper now.</p>
